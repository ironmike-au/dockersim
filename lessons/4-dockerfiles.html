<html>
<head>
  <link rel="stylesheet" href="/assets/css/bootstrap.css">
  <link rel="stylesheet" href="/assets/css/global.css">
  <link rel="stylesheet" href="/assets/css/jquery.terminal.css">
  <link rel="stylesheet" href="/assets/css/docker-terminal.css">
</head>
<body>
  <header>
    <ol><li><a href="/" style="padding-right: 30px">Dockersim.com</a></li>
        <li>Lessons: </li>
        <li><a href="/lessons/1-install.html">Install</a></li>
        <li>></li>
        <li><a href="/lessons/2-images.html">Images</a></li>
        <li>></li>
        <li><a href="/lessons/3-containers.html">Containers</a>
        <li>></li>
        <li><a class="active" href="/lessons/4-dockerfiles.html">Dockerfiles</a>
        <li>></li>
        <li><a href="/lessons/5-run.html">Run container run!</a>
    </ol>
  </header>
  <div class="instruction-div">
    <div id="l4-s1">
      <h2><em>4.1</em>Docker Fun Files</h2>
      <p>The <strong>Dockerfile</strong> is a text script that tells Docker how to build your image (remember, an image is used to launch containers). Dockerfiles automate the process of setting up your image.</p>
      <p>Sure, you <i>can</i> run an interactive container and install manually, as we discussed in <a href="/lessons/3-containers.html">Lesson 3</a> but that's not cool, not cool at all. </p>
      <p>By creating a dockerfile, you only have to explain how docker should build your image once. It will save you heaps of time, and it'll ensure a consistent build time and time again.</p>
      <p>We took the liberty of making a simple Dockerfile for you. Why don't you take a look at it? </p>
      <pre><code>cat Dockerfile</code></pre>
      <p class="next-lesson"><a href="/lessons/5-run.html">Skip to Lesson 5 - Run Container Run!</a></p>
    </div>
    <div id="l4-s2" style="display: none">
      <h2><em>4.2</em>Understanding the Dockerfile</h2>
      <p>Dockerfiles are extremely powerful, and this little guy is just a wee example of what we could do with our Dockerfile.</p>
      <p>As you can see, the Dockerfile is made up of a variety of commands that tell Docker what to do to build your image. This one will install Apache2 on a Ubuntu 14.04 server. After that, it will open HTTP port 80. Pretty basic!</p>
      <p>So let's build it! Docker build looks foor a Dockerfile in the path you specify, in our case, it's in /littleguy.</p>
      <pre><code>docker build -t littleguy /littleguy</code></pre>
      <p>The -t flag tags our image for friendly human reference. </p>
      <p class="next-lesson"><a href="/lessons/5-run.html">Skip to Lesson 5 - Run Container Run!</a></p>
    </div>
    <div id="l4-s3" style="display: none">
      <h2><em>4.3</em>Layers upon layers</h2>
      <p>Docker has build our image using the steps we specified in our Dockerfile.</p>
      <p>You might have noticed that with each Step, docker used a new image ID. As we mentioned in <a href="/lessons/2-images.html">Lesson 2</a>, images are read-only, so each change to an image is layered on top of the earlier images.</p>
      <p>Let's take a look at the layers in our new image. </p>
      <pre><code>docker history littleguy</code></pre>
      <p class="next-lesson"><a href="/lessons/5-run.html">Skip to Lesson 5 - Run Container Run!</a></p>
    </div>
    <div id="l4-s4" style="display: none">
      <h2><em>4.4</em>Little Guy: A History</h2>
      <p>As you can see, this image includes each step in our Docker file, as well as the earlier steps from the Ubuntu 14.04 image, too.</p>
      <p>Image layers help you to see roll-back changes to an image that break your app, and, they let you see a history of changes to the image. </p>
      <p>Now that we have an image with Apache2 on it, let's take a look and see how we can bring it to life in a new container. </p>
      <p class="next-lesson"><a href="/lessons/5-run.html">Proceed to Lesson 5 - Run Container Run!</a></p>
    </div>
  </div>
  <div class="terminal-div">
    <div class="toolbar">
      <div class="title">
        <span class="title-console">root@dockersim: /littleguy (bash)</span>
      </div>
    </div>
    <div id="term_demo" class="terminal">
    </div>
  </div>
  </div>
  <footer>
    <div class="footer-wrapper">
      <p class="footer-left"><a href="mailto:dockersim@mikerichardson.com.au">dockersim@mikerichardson.com.au</a></p>
      <p class="footer-right"><a href="http://github.com/otakumike/">GitHub</a></p>
    </div>
  </footer>
  <script src="/assets/js/jquery-1.7.1.min.js"></script>
  <script src="/assets/js/bootstrap.min.js"></script>
  <script src="/assets/js/jquery.terminal-0.8.8.js"></script>
  <script src="/assets/js/dterm.js"></script>
  <script src="/assets/js/docker-terminal.js"></script>
</body>
</html>

